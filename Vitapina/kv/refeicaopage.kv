<RefeicaoPage>
    FloatLayout:
        canvas:
            Color:
                rgb: utils.get_color_from_hex("#8DD0D9")
            Rectangle:
                size: self.size
                pos: self.pos

        Label:
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex("#139bad")
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [(0, 0), (0, 0), (20, 20), (20, 20)]
            text: ""
            pos_hint: {"right": 1, "top": 1}
            size_hint: 1, 0.1

        Image:
            pos_hint: {"right": 0.625, "top": 1}
            size_hint: 0.25, 0.1
            source: "icones/logotipo.png"
            id: foto_perfil

        Label:
            id: tipo_refeicao
            text: ""
            pos_hint: {"right": 0.8, "top": 0.85}
            size_hint: 0.1, 0.01



    # ------------------------------------------------------------------------------
        Spinner:
            pos_hint: {"right": 0.9, "top": 0.75}
            size_hint: 0.8, 0.055
            id: tipo_refeicao_spinner
            text: "Almoço"  # Texto padrão
            values: ["Café da manhã", "Almoço", "Jantar", "Lanche"]
            size_hint_y: None
            height: '40dp'
            background_normal: ''
            background_color: (0.9, 0.9, 0.9, 1)
            color: (0, 0, 0, 1)

        TextInput:
            id: data
            hint_text: "Data"
            pos_hint: {"right": 0.45, "top": 0.67}
            size_hint: 0.35, 0.055

        TextInput:
            id: hora
            hint_text: "Hora"
            pos_hint: {"right": 0.9, "top": 0.67}
            size_hint: 0.35, 0.055

        ImageButton:
            pos_hint: {"right": 0.9, "top": 0.46}
            size_hint: 0.1, 0.055
            source: "icones/add.png"
            on_release: app.firebase.adicionar_ingrediente(nome.text, quantidade.text)

        TextInput:
            id: nome
            hint_text: "Nome"
            pos_hint: {"right": 0.7, "top": 0.5}
            size_hint: 0.6, 0.055

        TextInput:
            id: quantidade
            hint_text: "Quantidade"
            pos_hint: {"right": 0.7, "top": 0.43}
            size_hint: 0.6, 0.055

        ScrollView:
            pos_hint: {"right": 0.9, "top": 0.36}
            size_hint: 0.8, 0.2
            GridLayout:
                cols: 1
                id:lista_ingredientes



        LabelButton:
            canvas.before:
                Color:
                    rgb: utils.get_color_from_hex("#eb7b29")
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [(20, 20), (20, 20), (20, 20), (20, 20)]

            pos_hint: {"right": 0.9, "top": 0.18}
            size_hint: 0.8, 0.065
            text: "[color=#FFFFFF]Cadastrar[/color]"
            id: label_total_vendas
            markup: True
            on_release: app.firebase.criar_refeicao(tipo_refeicao.text, nome.text, calorias.text, carboidratos.text, proteinas.text, gorduras.text, quantidade.text)


        GridLayout:
            rows: 1
            pos_hint: {"right": 1, "top": 0.07}
            size_hint: 1, 0.07
            canvas:
                Color:
                    rgb: utils.get_color_from_hex("#8dd0d9")
                Rectangle:
                    size: self.size
                    pos: self.pos
            ImageButton:
                source: "icones/receita.png"
                on_release: app.mudar_tela("receitaspage")
            ImageButton:
                source: "icones/fogo.png"
                on_release: app.mudar_tela("caloriaspage")
            ImageButton:
                source: "icones/graph.png"
                on_release: app.mudar_tela("glicemiapage")
            ImageButton:
                source: "icones/user.png"
                on_release: app.mudar_tela("perfilpage")

